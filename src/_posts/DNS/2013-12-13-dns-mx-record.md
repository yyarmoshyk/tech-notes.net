---
id: 49
title: DNS MX запись
date: 2013-12-13T20:05:36+00:00
author: admin

guid: http://wp38.local/?p=49
permalink: /dns-mx-record/
attitude_sidebarlayout:
  - default
lazy_seo_meta_key:
  - почта
lazy_seo_meta_key_geo:
  - geo1
image: /wp-content/uploads/2013/10/dns_control.jpg
categories:
  - DNS
---
**Что такое MX запись и с чем ее кушают?**

Простыми словами - это комбинация букв и цифр определяющий маршрут которым ходит почта для конкретного web домена.

Она состоит из IP адреса и приоритета для записи.

Приоритет - это просто число, которое определяет какой сервер будет использован как назначение для доставки почты в случае, если используются несколько серверов/записей. Высший приоритет определятся низшим значением. То есть если есть два сервера, у первого - приоритет 10, у второго - 20, то сначала любой почтовик будет поставлять почту на тот сервер, у которого приоритет 10.

Если MX запись для домена отсутствует, тогда почта доставляется согласно A записи в DNS.

**Для чего это нужно?**

Допустим ваш сайт хостится где-то на shared hostingе у GoDaddy. В то же время у вас есть крутой почтовый аккаунт на каком-то из почтовых сервисов (допустим gmail). Само наличие почтового ящика с содержанием Вашего доменного имени не подразумевает доставку почты в него. Для того что бы это работало нужно добавить соответсвующие MX записи для почтового сервиса.

Второй пример. Имеется почта на сервере вместе с web сайтом. Планируется переезд на другой хостинг/тарифный план со сменой ip адреса. Почта очень важна. В DNS зоне описана MX запись для первого (исходного) сервера или почтового аккаунта с приоритетом 10. Во время переключение DNS на новый сервер может потеряться часть почты во время так называемого `DNS propagation`. За сутки до переезда можно добавить вторую MX запись в DNS зону с ip адресом нового сервера и приоритетом 20. В этом случае после переключения DNS на новый сервер все почтовики будут знать о втором почтовом сервере, и те до которых изменения DNS о первой записи еще не дошли будут доставлять почту на второй сервер. При этом почтовую службу на исходном сервере нужно остановить, либо отключить учетные записи почты в панели управления.
