---
id: 615
title: IIS, PHP, OpenSource CMS –∏ –∑–∞–π—Ü—ã
date: 2014-02-27T21:36:05+00:00
author: admin

guid: http://www.tech-notes.net/?p=615
permalink: /iis-php-opensource-cms-uploads/
image: /wp-content/uploads/2014/02/wp+iis.png
categories:
  - IIS
  - Windows Server
  - WordPress
tags:
  - ApplicationPoolIdentity
  - iis
  - NetworkService
  - php
  - upload_tmp_dir
  - wordpress
  - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
---
–õ–∏—á–Ω–æ —è —Å—á–∏—Ç–∞—é —Ö–æ—Å—Ç–∏–Ω–≥ open-source –ø—Ä–æ–µ–∫—Ç–æ–≤ –Ω–∞ Windows Server –∫–æ—â—É–Ω—Å—Ç–≤–æ–º, –≥–ª—É–ø–æ—Å—Ç—å—é –∏ –º–æ—Ä–∞–ª—å–Ω–æ–π –Ω–µ–ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ—Å—Ç—å—é. –ù–æ —Å–ª—É—á–∞–µ—Ç—Å—è –ø—Ä–æ–µ–∫—Ç, –≤ –∫–æ—Ç–æ—Ä–æ–º —É –∫–ª–∏–µ–Ω—Ç–∞ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∞–π—Ç –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ .NET –∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å –Ω–∏–º –ª–µ–∂–∏—Ç –Ω–µ–±–æ–ª—å—à–æ–π –±–ª–æ–≥ –Ω–∞ WordPress –∏–ª–∏ –¥—Ä—É–≥–æ–π CMS.

–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ –≤—Å–µ —ç—Ç–æ –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç –Ω–∞–±–æ—Ä Win2008+PHP+ASP.NET+MSSQL+MySql+IIS7.

–°–µ–≥–æ–¥–Ω—è —Å—Ç–æ–ª–∫–Ω—É–ª—Å—è –≤–æ—Ç —Ç–∞–∫–æ–π –ø—Ä–æ–±–ª–µ–º–æ–π:  
–ò–¥—É –≤ –∞–¥–º–∏–Ω–∫—É WordPress, —Å–æ–∑–¥–∞—é –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å, –¥–æ–±–∞–≤–ª—è—é –≤ –Ω–µ–µ –º–µ–¥–∏–∞ —Ñ–∞–π–ª, –≤—ã–±–∏—Ä–∞—é —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è `–ü–æ–ª–Ω—ã–π` –∏.. –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è. –£–º–µ–Ω—å—à–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç, –∞ –≤–æ—Ç –ø–æ–ª–Ω–æ–µ - –Ω–µ—Ç. –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –ø–æ –ø—Ä—è–º–æ–π —Å—Å—ã–ª–∫–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ - 500-—è –æ—à–∏–±–∫–∞.

[<img src="/wp-content/uploads/2014/02/500_error_iis.png" alt="500_error_iis" width="519" height="169" class="aligncenter size-full wp-image-618" srcset="/wp-content/uploads/2014/02/500_error_iis.png 519w, /wp-content/uploads/2014/02/500_error_iis-300x97.png 300w" sizes="(max-width: 519px) 100vw, 519px" />](/wp-content/uploads/2014/02/500_error_iis.png)

–û–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –º—ã –∑–∞–≥—Ä—É–∂–∞–µ–º —Ñ–∞–π–ª —á–µ—Ä–µ–∑ php —Ñ–æ—Ä–º—É, —Ç–æ —Å–Ω–∞—á–∞–ª–∞ –æ–Ω (—Ñ–∞–π–ª) –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ –ø–∞–ø–∫—É C:\Windows\Temp (—Ç–∞–∫–∏–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ php.upload_tmp_dir). –ü–æ—Ç–æ–º –∏–∑ —ç—Ç–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π —Ñ–∞–π–ª –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ –Ω—É–∂–Ω–æ–µ –º–µ—Å—Ç–æ (—Ç–∏–ø–∞ /wp-content/uploads/2014/2). –ü—Ä–∏ —ç—Ç–æ–º —Ñ–∞–π–ª —É–Ω–∞—Å–ª–µ–¥—É–µ—Ç –ø—Ä–∞–≤–∞ –ø–∞–ø–∫–∏ C:\Windows\Temp. –£–º–µ–Ω—å—à–µ–Ω–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ–∑–¥–∞—é—Ç—Å—è —É–∂–µ –≤ –∫–æ–Ω–µ—á–Ω–æ–π –ø–∞–ø–∫–µ, –æ–Ω–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ –ø–æ—Ç–æ–º—É —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å IIS (AppPool user) –∏–º–µ–µ—Ç –≤—Å–µ –ø—Ä–∞–≤–∞ –Ω–∞ –Ω–∏—Ö.

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ –±—ã –∏—Å–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ –Ω–µ–¥–æ—Ä–∞–∑—É–º–µ–Ω–∏–µ, –Ω—É–∂–Ω–æ –¥–∞—Ç—å IIS –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø—Ä–∞–≤–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–∂–µ —á—Ç–µ–Ω–∏—è) –Ω–∞ –ø–∞–ø–∫—É C:\Windows\Temp.

–ù—É–∂–Ω–æ –¥–ª—è –Ω–∞—á–∞–ª–∞ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–¥ –∫–µ–º –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è ApplicationPool —Å–∞–π—Ç–∞:  
–ó–∞–ø—É—Å–∫–∞–µ–º IIS Manager -> Application Pools. –ñ–º–µ–º –ø—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π –Ω–∞ –Ω—É–∂–Ω–æ–º –ø—É–ª–µ –∏ –≤—ã–±–∏—Ä–∞–µ–º `Advanced Settings` –∏–∑ –≤—ã–ø–∞–≤—à–µ–≥–æ –º–µ–Ω—é:

[<img src="/wp-content/uploads/2014/02/Screenshot-from-2014-02-27-162326.png" alt="Screenshot from 2014-02-27 16:23:26" width="498" height="361" class="aligncenter size-full wp-image-616" srcset="/wp-content/uploads/2014/02/Screenshot-from-2014-02-27-162326.png 498w, /wp-content/uploads/2014/02/Screenshot-from-2014-02-27-162326-300x217.png 300w" sizes="(max-width: 498px) 100vw, 498px" />](/wp-content/uploads/2014/02/Screenshot-from-2014-02-27-162326.png)

–í —Ä–∞–∑–¥–µ–ª–µ `Process Model` —Å–º–æ—Ç—Ä–∏–º –Ω–∞ Identity.

[<img src="/wp-content/uploads/2014/02/Screenshot-from-2014-02-27-162505.png" alt="Screenshot from 2014-02-27 16:25:05" width="433" height="54" class="aligncenter size-full wp-image-617" srcset="/wp-content/uploads/2014/02/Screenshot-from-2014-02-27-162505.png 433w, /wp-content/uploads/2014/02/Screenshot-from-2014-02-27-162505-300x37.png 300w" sizes="(max-width: 433px) 100vw, 433px" />](/wp-content/uploads/2014/02/Screenshot-from-2014-02-27-162505.png)

–ï—Å–ª–∏ –ø—É–ª –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ–¥ ApplicationPoolIdentity - –Ω—É–∂–Ω–æ –¥–∞–≤–∞—Ç—å –ø—Ä–∞–≤–∞ –≥—Ä—É–ø–ø–µ IIS_IUSRS –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é IIS_IUSR –Ω–∞ –ø–∞–ø–∫—É C:\Windows\Temp.

–ï—Å–ª–∏ —É –í–∞—Å —Ç–∞–º –Ω–∞–ø–∏—Å–∞–Ω–æ NetworkService - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ –¥–∞–µ–º –ø—Ä–∞–≤–∞ –≥—Ä—É–ø–ø–µ NetworkService.

–ü–æ—Å–ª–µ —Ç–∞–∫–∏—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π –≤—Å–µ –Ω–æ–≤–æ-–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

–î–ª—è —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –Ω—É–∂–Ω–æ –≤—ã—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –≤—Ä—É—á–Ω—É—é. –ú–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ-–ø—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–∞—Ç–∞–ª–æ–≥. –í—Å–µ –ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥–∏ –∏ —Ñ–∞–π–ª—ã —É–Ω–∞—Å–ª–µ–¥—É—é—Ç –ø—Ä–∞–≤–∞ –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è.

ps: –Ω–µ –¥—É–º–∞–ª, —á—Ç–æ —É –º–µ–Ω—è –ø–æ—è–≤–∏—Ç—Å—è —Ä—É–±—Ä–∏–∫–∞ IIS üôÅ
